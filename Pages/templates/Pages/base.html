{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}SAE{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'Pages/Base/base.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    {% block content %}
    {% endblock %}

    <!-- Toggle Button -->
    <button class="navbar-toggle" id="navbarToggle">
        <span class="toggle-icon">&lt;</span>
    </button>

    <!-- Bottom Navbar - Diferente según el rol del usuario -->
    <nav class="bottom-navbar" id="bottomNavbar">
        {% if user.is_authenticated %}
            {% with user.usuariorol_set.first as ur %}
                {% if ur %}
                    {% if ur.rol.nombre_rol == 'profesor' %}
                        <!-- Navbar para Profesores -->
                        <a href="#" class="nav-item" data-page="repositorio">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                            </svg>
                            Repositorio
                        </a>
                        <a href="#" class="nav-item" data-page="cursos">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/>
                            </svg>
                            Cursos
                        </a>
                        <a href="#" class="nav-item" data-page="eventos">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                            </svg>
                            Eventos
                        </a>
                        <a href="{% url 'perfil_usuario' %}" class="nav-item active" data-page="perfil">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="9" cy="9" r="2"/>
                                <path d="M21 15.5c-.621-1.327-2.087-2.5-4.5-2.5s-3.879 1.173-4.5 2.5"/>
                            </svg>
                            Perfil
                        </a>
                        <a href="{% url 'comunidad:principio' %}" class="nav-item" data-page="comunidad">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-1c0-1.38.56-2.63 1.46-3.54l.64-.64.78.78c-.92.92-1.48 2.19-1.48 3.58v1H4zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM8.5 12A1.5 1.5 0 0010 13.5 1.5 1.5 0 008.5 15 1.5 1.5 0 007 13.5 1.5 1.5 0 008.5 12z"/>
                            </svg>
                            Comunidad
                        </a>
                        <a href="#" class="nav-item" data-page="evaluaciones">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/>
                            </svg>
                            Evaluaciones
                        </a>
                        <a href="#" class="nav-item" data-page="ayuda">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            Ayuda
                        </a>
                        <a href="{% url 'logout' %}" class="nav-item" data-page="logout">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8c-1.1 0-2 .9-2 2v3h2V5h8v14h-8v-3h-2v3c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
                            </svg>
                            Cerrar sesión
                        </a>
                    {% elif ur.rol.nombre_rol == 'estudiante' %}
                        <!-- Navbar para Estudiantes -->
                        <a href="#" class="nav-item" data-page="repositorio">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                            </svg>
                            Repositorio
                        </a>
                        <a href="#" class="nav-item" data-page="eventos">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                            </svg>
                            Eventos
                        </a>
                        <a href="{% url 'perfil_usuario' %}" class="nav-item active" data-page="perfil">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="9" cy="9" r="2"/>
                                <path d="M21 15.5c-.621-1.327-2.087-2.5-4.5-2.5s-3.879 1.173-4.5 2.5"/>
                            </svg>
                            Perfil
                        </a>
                        <a href="{% url 'comunidad:inicio' %}" class="nav-item" data-page="comunidad">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-1c0-1.38.56-2.63 1.46-3.54l.64-.64.78.78c-.92.92-1.48 2.19-1.48 3.58v1H4zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM8.5 12A1.5 1.5 0 0010 13.5 1.5 1.5 0 008.5 15 1.5 1.5 0 007 13.5 1.5 1.5 0 008.5 12z"/>
                            </svg>
                            Comunidad
                        </a>
                        <a href="#" class="nav-item" data-page="progreso">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            Progreso
                        </a>
                        <a href="#" class="nav-item" data-page="ayuda">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            Ayuda
                        </a>
                        <a href="{% url 'logout' %}" class="nav-item" data-page="logout">
                            <svg class="nav-icon" viewBox="0 0 24 24">
                                <path d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8c-1.1 0-2 .9-2 2v3h2V5h8v14h-8v-3h-2v3c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
                            </svg>
                            Cerrar sesión
                        </a>
                    {% endif %}
                {% else %}
                    <p>No tienes rol asignado.</p>
                {% endif %}
            {% endwith %}
        {% endif %}
    </nav>

    <script src="{% static 'Pages/Base/base.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>